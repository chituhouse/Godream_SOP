# Godream 项目 AI 辅助开发全景分析

> 分析周期：2025-09-14 ~ 2026-01-09（118 天）
> 总对话数：591 次 | 总用户消息：2267 条

---

## 一、项目整体时间线

```
2025-09          2025-10          2025-11          2025-12          2026-01
    |                |                |                |                |
    v                v                v                v                v
[探索期]         [稳定期]         [转型期]         [成熟期]         [发布期]

09-14 项目启动   10-07 窗口缩放   11-25 Claude     12-17 Token      01-06 v1.8.5
   |             重构完成            Code切换        系统建立        版本发布
   |                |                |                |                |
09-18 上下文     10-14 品牌       11-26 credentials  12-22 LSP      01-08 上传
危机爆发         重塑(godream)    污染事件          审计硬编码      组件增强
   |                |                |                |                |
09-22 引入       10-15 Codex      11-25 打包体积    12-29 Apple
Serena MCP       完全退出         90%瘦身           开发者签名
```

### 关键数据演进

| 月份 | 对话数 | Codex | Serena | Claude | 主导工具 |
|------|--------|-------|--------|--------|----------|
| 2025-09 | 121 | 55 | 66 | 0 | Serena |
| 2025-10 | 129 | 8 | 121 | 0 | Serena |
| 2025-11 | 23 | 0 | 181 | 23 | Serena+Claude |
| 2025-12-a | 99 | 0 | 49 | 99 | Claude |
| 2025-12-b | 219 | 0 | 0 | 219 | Claude |

---

## 二、5 个月核心发现汇总

### 2025-09：探索与危机

**核心事件**：
- 项目正式启动（09-14），开始使用 AI 辅助开发
- 上下文溢出危机（09-18）：单对话 93 条消息导致上下文爆满
- 建立"主规划窗口+执行窗口"分离策略

**关键问题**：
- 程序闪退（多次，不同原因）
- 参考图功能不完整（持续到年底）
- Codex 连接不稳定（17 分钟内 9 次重连尝试）

**用户成长**：
- 开始使用"第一性原理"约束 AI
- 模糊提问占比 33%，有改进空间

### 2025-10：稳定与专注

**核心事件**：
- Serena 成为主力工具（121 条日志）
- Codex 使用急剧下降（仅 8 次）
- 项目品牌重塑：gemeng -> godream

**关键问题**：
- 窗口缩放导致溢出屏幕（已解决）
- Serena MCP 连接调试（已解决）
- qt_app.py 巨石文件被识别但未处理

**用户成长**：
- 模糊提问占比下降到 11%
- 学会精确指定工具、文件、行号

### 2025-11：工具转型

**核心事件**：
- Claude Code 首次使用（11-25）
- macOS 打包方案切换：py2app -> PyInstaller（体积从 2.1GB 缩小到 247MB）
- credentials.json 污染事件：第一性原理分析找到根因

**关键问题**：
- latin-1 编码错误（根因是配置污染）
- model_variant 参数传递问题
- Qt 平台插件路径问题

**用户成长**：
- 模糊提问占比 8%，达到最低
- "第一性原理"思维在实战中得到验证

### 2025-12 上半月：代码探索

**核心事件**：
- Claude 成为主力工具（99 次对话）
- 开始使用 Serena 进行深度代码分析
- 发现 Schema 驱动的 UI 渲染系统

**关键问题**：
- 参考图边框样式不稳定
- model_variant 硬编码覆盖问题
- 信号连接缺失导致删除后不更新

**用户成长**：
- 工具切换导致短暂适应期
- 开始系统性地探索代码结构

### 2025-12 下半月至 2026-01：成熟发布

**核心事件**：
- Token 主题系统建立（12-17~12-22）
- Apple 开发者账号获批（12-29）
- v1.7.5 ~ v1.8.5 多版本发布
- 上传组件增强（拖拽+复制粘贴）

**关键问题**：
- 主题切换不稳定（已解决）
- 硬编码样式问题（系统性清理）
- 视频缩略图显示问题（已解决）

**用户成长**：
- 直觉准确率达到 80%
- 开始使用 LSP 能力进行系统性代码审计

---

## 三、跨月演进分析

### 1. 问题生命周期追踪

#### 参考图功能（持续 5 个月）

```
09月: R2参考图资产化开始 ─┐
      "参考图还是没有"    │
                          │
10月: 角标显示问题       ─┼─ 问题反复，每次修复后又出现新问题
      前端显示不出来      │
                          │
11月: 数据丢失/不显示    ─┤
      Win/Mac数据库差异   │
                          │
12月上: 边框样式不稳定   ─┤
        ID生成多副本     │
                          │
12月下: 路径解析问题修复 ─┴─ 基本解决
        压缩和上传增强
```

**教训**：功能问题可能有多个层次的根因，表面修复只会让问题反复。

#### 上下文管理问题（3 个月解决）

```
09月: 上下文爆满 ──> 主规划窗口+执行窗口分离
10月: Serena记忆工具 ──> 复杂性管理
11月: 切换Claude Code ──> 彻底解决
```

**教训**：上下文管理是 AI 辅助开发的核心挑战，需要显式设计策略。

### 2. 用户成长曲线

#### 提问质量演进

| 月份 | 模糊占比 | 变化趋势 | 标志性进步 |
|------|----------|----------|------------|
| 09月 | 33% | - | 开始使用"第一性原理" |
| 10月 | 11% | -22% | 学会精确指定工具和位置 |
| 11月 | 8% | -3% | 第一性原理实战验证 |
| 12月上 | 10% | +2% | 工具切换适应期 |
| 12月下 | 15% | +5% | 稳定期（绝对数量增加） |

#### 直觉准确率

```
09月: 71% ─┐
10月: 80% ─┼─ 逐步提升
11月: 67% ─┤   (11月因新任务类型有波动)
12月上: 75% ─┤
12月下: 80% ─┴─ 恢复并稳定
```

### 3. 工具使用演进

```
         Codex                Serena               Claude
09月:    ████████             ██████████
10月:    ██                   █████████████████
11月:                         █████████████████    ████
12月上:                       ████████             ████████████
12月下:                                            ██████████████████
```

**切换触发因素**：
1. Codex -> Serena（09-22）：需要更强代码分析能力
2. Codex 退出（10-15）：Serena 完全替代
3. Serena+Claude（11-25）：打包任务需要更好的 Git 操作
4. Claude 主导（12-17）：综合体验更好

### 4. 技术债务演进

#### 巨石文件 qt_app.py

```
10月: [识别] 规划拆分但优先功能
11月: [搁置] 注意力转向打包
12月: [改善] PySide6迁移引入模块化
```

**教训**：重构的最佳触发时机是外部约束（如技术迁移），而非内部认知。

#### 硬编码问题

```
09月: 密钥管理统一化开始
10月: 窗口缩放暴露部分硬编码
11月: credentials.json污染事件
12月上: model_variant硬编码覆盖
12月下: Token系统建立，系统性清理
```

**累积曲线**：
```
技术债务
    ^
    |                    * 12月上(峰值)
    |                   /
    |              * 11月
    |             /
    |        * 10月
    |       /
    |   * 09月
    |  /
    +------------------------> 时间
                    * 12月下(清理开始)
```

---

## 四、最重要的 10 个洞见

### 1. 根因分析比表面修复重要 100 倍
参考图问题持续 5 个月，credentials.json 污染直到第一性原理分析才解决。表面修复只会让问题反复出现。

### 2. 工具选择要匹配任务复杂度
Codex -> Serena -> Claude 的演进不是偶然，每次切换都因为任务需求变化。工具不是越强大越好，而是要匹配当前任务。

### 3. 上下文管理是 AI 辅助开发的核心挑战
9 月上下文溢出事件催生了"主规划窗口+执行窗口"分离策略，这是项目管理方法论的转折点。

### 4. 用户提问质量直接影响 AI 输出质量
模糊/精确比例从 9 月的 33% 下降到 10 月的 11%，说明精确提问是可以学习的技能。

### 5. 技术债务有累积效应
硬编码问题从 10 月开始积累，到 12 月需要 Token 系统全面清理。延迟处理会导致问题爆发式增长。

### 6. 重构的最佳触发时机是外部约束
qt_app.py 拆分被推迟多次，直到 PySide6 迁移才带来实质改善。内部认知不足以推动重构。

### 7. 用户直觉准确率较高（~75%）
用户多次正确判断问题所在，但仍需要 AI 验证才能确信。信任但验证。

### 8. 工具链切换有短暂适应期
11 月切换 Claude Code 时有学习成本，但 12 月效率明显提升。不要因为短期不适而放弃更好的工具。

### 9. 配置验证比运行时错误处理更重要
credentials.json 污染事件表明：启动时验证可以立即发现问题，而不是在 API 调用时才报错。

### 10. 官方签名对产品分发至关重要
体验版签名带来安全警告，官方签名后专业度大幅提升。应尽早规划开发者账号。

---

## 五、值得深挖的方向

### 1. 参考图问题完整复盘
**问题**：为什么一个功能持续 5 个月都在出问题？每次"解决"为什么又反复？

**深挖价值**：理解复杂功能的正确开发方式，建立功能完整性检查清单。

### 2. 工具切换决策分析
**问题**：Codex -> Serena -> Claude 的演进逻辑是什么？什么触发了切换？

**深挖价值**：建立工具选择框架，帮助在新项目中快速选择合适的工具组合。

### 3. 上下文管理最佳实践
**问题**：从 9 月危机到后来的稳定，学到了什么？"主规划窗口+执行窗口"策略的完整实践指南是什么？

**深挖价值**：可复用的 AI 辅助开发方法论。

### 4. 技术债务生命周期
**问题**：硬编码问题是如何积累到爆发的？Token 系统设计过程是什么？

**深挖价值**：技术债务管理策略，识别和处理债务的最佳时机。

### 5. 用户成长路径分析
**问题**：提问质量提升、方法论建立的关键节点是什么？

**深挖价值**：AI 辅助开发学习曲线，新用户入门指南。

---

## 六、项目健康度评估

### 最终状态（2026-01）

| 维度 | 状态 | 说明 |
|------|------|------|
| 核心功能 | 稳定 | 参考图、批量生成、视频生成均可用 |
| 代码质量 | 良好 | Token 系统建立，硬编码基本清理 |
| 打包分发 | 专业 | Apple 官方签名，DMG 公证分发 |
| 用户体验 | 良好 | 拖拽上传、全屏播放等增强 |
| 技术债务 | 可控 | 巨石文件未完全解决，但有改善 |

### 里程碑版本

```
v1.2.1 (11月) ─> v1.4.1 (12月中) ─> v1.7.5 (12月底) ─> v1.8.5 (1月)
   |                 |                   |                  |
打包方案成熟      Token系统         官方签名           上传增强
```

---

*报告生成时间：2026-01-11*
*分析工具：Claude Opus 4.5*
*数据来源：conversations/codex, conversations/serena, conversations/claude*
